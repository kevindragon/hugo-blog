---
title: "Linuxä¸‹æ–‡ä»¶æ‹†åˆ†ï¼Œå¤šä¸ªæ–‡ä»¶æ‰“åŒ…åæ‹†åˆ†"
date: "2023-09-16T15:04:16+08:00"
tags: ["Linux"]
categories: ["å‹ç¼©"]
---

å¤„ç†å’Œä¼ è¾“å¤§æ–‡ä»¶ï¼Œä»¥åŠå¤„ç†å’Œä¼ è¾“å¤§é‡å°æ–‡ä»¶ä¸€ç›´å¾ˆæœ‰æŒ‘æˆ˜ã€‚ç‰¹åˆ«æ˜¯åœ¨å¤šä¸ªå­˜å‚¨ä»‹è´¨ï¼Œä»¥åŠç½‘ç»œä¹‹é—´ä¼ è¾“çš„æ—¶å€™ã€‚å¤§æ–‡ä»¶æ— æ³•æ”¾å…¥ä¸€å¼ 4.7Gçš„å…‰ç›˜å½“ä¸­ï¼›å¤§é‡å°æ–‡ä»¶ä¼ è¾“éœ€è¦ç³»ç»Ÿæ‰“å¼€éå¸¸å¤šæ–‡ä»¶æè¿°ç¬¦ï¼Œä¼šé€ æˆèµ„æºæµªè´¹çš„æƒ…å†µã€‚

æœ¬æ–‡ä»‹ç»å¦‚ä½•åº”å¯¹è¿™ä¸¤ç§æƒ…å†µï¼Œä½¿ç”¨æ–‡ä»¶åˆ†å‰²ã€æ–‡ä»¶å‹ç¼©ä»¥åŠå‹ç¼©æ—¶åˆ†å‰²çš„æ–¹æ³•å¤„ç†æ–‡ä»¶ï¼Œç„¶åå¦‚ä½•è¿˜åŸåˆ†å‰²åçš„æ–‡ä»¶ã€‚

## åˆ†å‰²æ–‡ä»¶

åœ¨Linuxä¸‹åˆ†å‰²æ–‡ä»¶æœ€å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨`split`å‘½ä»¤ã€‚`split`å‘½ä»¤å¯ä»¥æŒ‰å›ºå®šå¤§å°åˆ†å‰²ï¼Œè¿˜å¯ä»¥æŒ‰åˆ†å‰²åçš„æ•°é‡è¿›è¡Œåˆ†å‰²

å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ª50Mçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒåˆ†æˆ5ä¸ª10Mçš„éƒ¨åˆ†ï¼š

```bash
# ä½¿ç”¨ddå‘½ä»¤åˆ›å»ºä¸€ä¸ª50Mçš„test.txtæ–‡ä»¶
dd if=/dev/zero of=test.txt bs=50M count=1

# å¯ä»¥çœ‹åˆ°æ–‡ä»¶åˆ›å»ºæˆåŠŸäº†
# $ls -alth test.txt
# -rw-r--r-- 1 Kevin None 50M Sep 14 10:34 test.txt

split -b 10M test.txt test_
```

ä¸Šé¢çš„`split`å‘½ä»¤æŠŠ50Mçš„test.txtæ–‡ä»¶æ‹†æˆäº†5ä¸ªä»¥ test_ å¼€å¤´çš„10Må¤§å°çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹åˆ†å‰²åçš„æ–‡ä»¶åˆ—è¡¨ï¼š

```bash
$ ls -alth test_*
-rw-r--r-- 1 Kevin None 10M Sep 14 10:36 test_ae
-rw-r--r-- 1 Kevin None 10M Sep 14 10:36 test_ab
-rw-r--r-- 1 Kevin None 10M Sep 14 10:36 test_ac
-rw-r--r-- 1 Kevin None 10M Sep 14 10:36 test_ad
-rw-r--r-- 1 Kevin None 10M Sep 14 10:36 test_aa
```

è§£é‡Šä¸€ä¸‹`split`å‘½ä»¤

<aside>
ğŸ’¡ Linux manæ‰‹å†Œçš„è§£é‡Šå¦‚ä¸‹ï¼š
Output pieces of FILE to PREFIXaa, PREFIXab, ...; default size is 1000 lines, and default PREFIX is 'x'.

</aside>

æŠŠæ–‡ä»¶æ‹†åˆ†æˆå‚æ•°æŒ‡å®šçš„å¤§å°ï¼Œé»˜è®¤è¾“å‡ºä¸º PREFIXaaï¼ŒPREFIXab æ ¼å¼ï¼Œé»˜è®¤ä»¥ aa, ab, ac æ¥åˆ›å»ºä¸åŒçš„æ–‡ä»¶åã€‚å‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š

```bash
split [OPTION]... [FILE [PREFIX]]
```

`-b` æˆ–è€… `--bytes` å‚æ•°æŒ‡å®šç”Ÿæˆåˆ†å‰²åçš„æ–‡ä»¶å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨ K,M,G,T,P,E,Z,Y ï¼ˆ1024çš„å€æ•°ï¼‰ä¸ºå•ä½è¿›è¡ŒæŒ‡å®šï¼Œæˆ–è€… KB,MB,â€¦ ï¼ˆè¿™æ˜¯1000çš„å€æ•°ï¼‰ã€‚

`-d` å‚æ•°æŒ‡å®šä½¿ç”¨æ•°å­—æ–¹å¼ç”Ÿæˆæ–‡ä»¶ï¼Œä¾‹å¦‚ test_01, test_02

è¿˜å¯ä»¥æŒ‰åˆ†å‰²åçš„æ–‡ä»¶æ•°é‡è¿›è¡Œåˆ†å‰²ï¼š

```bash
split -d -n 3 test.txt test_
```

åˆ†å‰²å

```bash
$ ls -alth test_*
-rw-r--r-- 1 Kevin None 17M Sep 14 10:57 test_02
-rw-r--r-- 1 Kevin None 17M Sep 14 10:57 test_01
-rw-r--r-- 1 Kevin None 17M Sep 14 10:57 test_00
```

## åˆå¹¶æ–‡ä»¶

ä½¿ç”¨å‘½ä»¤catå°±å¯ä»¥æŠŠåˆ†å‰²çš„å¤šä¸ªæ–‡ä»¶è¿›è¡Œåˆå¹¶äº†

```bash
cat test_* > another_test.txt
```

æŸ¥çœ‹åˆå¹¶åçš„æ–‡ä»¶

```bash
$ ls -alth another_test.txt
-rw-r--r-- 1 Kevin None 50M Sep 14 10:59 another_test.txt

# ä½¿ç”¨md5suméªŒè¯æ–‡ä»¶å†…å®¹
$ md5sum test.txt
25e317773f308e446cc84c503a6d1f85 *test.txt

$ md5sum another_test.txt
25e317773f308e446cc84c503a6d1f85 *another_test.txt
```

## ä½¿ç”¨zipåœ¨å‹ç¼©çš„æ—¶å€™åŒæ—¶è¿›è¡Œåˆ†å‰²

zipå‘½ä»¤æ˜¯Linuxä¸­çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒå…è®¸æˆ‘ä»¬åˆ›å»ºæ–‡ä»¶å’Œç›®å½•çš„å­˜æ¡£ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜æä¾›äº†è®¸å¤šç”¨äºæ“ä½œå½’æ¡£çš„åŠŸèƒ½ã€‚

### å®‰è£…

è¦åœ¨Ubuntu/Debianä¸­å®‰è£…zipå‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å™¨apt-getï¼ˆæˆ–è€…aptï¼‰ï¼š

```bash
$ sudo apt-get update
$ sudo apt-get install -y zip
```

æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è½¯ä»¶åŒ…ç®¡ç†å™¨yumåœ¨åŸºäºRHELçš„Linuxä¸­å®‰è£…zipå‘½ä»¤è¡Œå·¥å…·ï¼š

```bash
$ sudo yum update
$ sudo yum install -y zip
```

zipå‘½ä»¤è¯­æ³•æ ¼å¼ï¼š

```bash
zip [options] [zipfile [files...]] [-xi list]
```

åŸºç¡€ç”¨æ³•ï¼š

```bash
$ zip test.zip test_001.txt test_002.txt
  adding: test_001.txt (deflated 100%)
  adding: test_002.txt (deflated 100%)
```

é‡ç‚¹æ¥äº†ï¼Œåœ¨ä½¿ç”¨zipå½’æ¡£å’Œå‹ç¼©æ–‡ä»¶çš„æ—¶å€™ï¼ŒåŒæ—¶æŠŠå½’æ¡£çš„æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨åˆ°`-s`å‚æ•°ï¼Œæ„æ€å°±æ˜¯ä½¿ç”¨splitå‘½ä»¤è¿›è¡Œåˆ†å‰²

```bash
$ zip -s 200M test.zip redis-6.2.6.tar neo4j-4.4.15.tar
  adding: redis-6.2.6.tar (deflated 66%)
  adding: neo4j-4.4.15.tar (deflated 37%)
```

æŸ¥çœ‹å½’æ¡£åŠåˆ†å‰²åçš„æ–‡ä»¶åˆ—è¡¨

```bash
$ ls -alth test.*
-rw-r--r-- 1 Kevin None 185M Sep 14 11:14 test.zip
-rw-r--r-- 1 Kevin None 200M Sep 14 11:13 test.z01
```

### è§£å‹åˆ†å‰²åçš„æ–‡ä»¶

é¦–å…ˆæŠŠå¤šä¸ªæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªzipæ–‡ä»¶

```bash
zip -FF test.zip --out test_single.zip
```

ç„¶åä½¿ç”¨unzipå‘½ä»¤è¿›è¡Œè§£å‹

```bash
unzip test_single.zip -d ./temp
```

## æ€»ç»“

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å°†æ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œç„¶åå°†å„ä¸ªéƒ¨åˆ†é‡æ–°è¿æ¥åœ¨ä¸€èµ·ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æè¿°äº†å¦‚ä½•åº”ç”¨æµè¡Œçš„å‹ç¼©å®ç”¨ç¨‹åºzipå’Œunzipæ¥å¤„ç†æ‹†åˆ†çš„å½’æ¡£ã€‚

## å…¬ä¼—å·

æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼ŒåŒæ­¥æ›´æ–°

![æœ¨æœ¨å°å°å­©](/img/qrcode_for_gh.jpg)
